
### 4. 变量作用域和内存问题

> 理解基本类型和引用类型
> 理解执行环境
> 理解垃圾收集

#### 4.1 基本类型和引用类型的值
4.1.1 
属性可以动态进行添加
4.1.2 
复制基础类型的值会产生新的副本，二者不互相干扰，
而复制引用类型的值则指向同一内存空间，会互相干扰；
4.1.3
函数参数永远是按照值进行传递的，基础变量的值或引用的值
4.1.4
typeof用于判断基本类型数据，instanceof用于判断具体对象类型
instanceof检测基本类型时永远返回false，而检测对象是否为Object时永远为true

#### 4.2 执行环境及作用域
当前代码执行会创建变量对象的一个作用域链，其作用是保证对执行换将的所有变量和函数的有序访问
4.2.1
延长作用域链：执行一些语句中创建的变量对象，在执行后续代码仍可使用
包含：try-catch语句的catch块、with语句
4.2.2
没有块级作用域

#### 4.3 垃圾收集
4.3.1 标记清除
4.3.2 引用计数
4.3.4 管理内存
不使用的变量手动解除对其的引用，以便垃圾收集器将其收集

#### 4.4 小结
JS保留两种类型的值：基本类型、引用类型
基本类型：Undefined、Null、Boolean、Number、String
基本类型和一用类型的值具备以下特点：
  - 基本类型值占固定大小的空间，因此保存在栈内
  - 从一个变量向另一个变量复制基本类型的值，会创建这个值的一个副本
  - 引用类型的值是对象，保存在堆内存中
  - 包含引用类型的值的变量实际上包含的不是对象本身，而是一个指向该对象的指针
  - 从一个变量向另一个变量复制引用类型的值，复制的其实是指针，因此两个变量最终都指向同一个对象
  - 确定一个值是那种类型的值可以用typeof，确定是哪一种引用类型的值可以使用instanceof
有关于执行环境的总结：
  - 执行环境有全局执行环境和函数执行环境之分
  - 每次进入一个新的执行环境，都会创建一个用于搜索变量和函数的作用域链
  - 函数的局部作用域不仅拥有访问函数作用域中变量，而且有权访问其父环境乃至全局环境
  - 变量执行环境有助于确定该何时释放内存
关于垃圾回收部分总结如下：
  - 离开作用域的值标记为可以回收，因此将在垃圾收集期间删除
  - 标记清除是主流的垃圾收集算法，算法的思想是给不使用的值加上标记，然后再回收其内存
  - 另一种垃圾回收算法是引用计数，这种算法的思想是跟踪记录所有值被引用的次数
  - 当代码出现循环引用时，引用计数算法会导致问题
  - 删除变量的引用有助于消除循环引用，而且对垃圾回收也有好处