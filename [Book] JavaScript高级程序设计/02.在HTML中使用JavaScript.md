
### 2.在HTML中使用JavaScript

> 使用<script>元素
> 嵌入脚本与外部脚本
> 文档模式对JavaScript的影响
> 考虑禁用JavaScript场景

#### 使用<script>标签
标签属性：
    - async(可选): 表示应立即下载脚本，但不应该妨碍页面中的其他操作（外部脚本有效）
    - charset(可选): 表示通过src属性指定的代码的字符集（大部分浏览器会忽略）
    - defer(可选): 表示脚本可以延时到文档完全解析完后再执行（外部脚本有效）
    - src(可选): 表示包含要执行代码的外部文件
    - type(可选): 看成是language的替代品，表示编写使用的脚本语言的内容类型（默认text/javascript）

#### 嵌入脚本与外部脚本
嵌入脚本
    - 在浏览器解析完<script>之前，页面后续内容不会被加载或者显示
    - 嵌入脚本中不应该出现</script>否则会认为此处脚本结束，如果需要使用请使用<\/script> 
```
<script type='text/javascript'>
    function sayHi() {
        alert('Hi!');
        alert('<\/script>');
    }
</script>
```
外部脚本
    - 外部引入脚本效果与将文件内容嵌入脚本相同
    - 自闭标签属于XHTML规范，部分IE浏览器不能正确解析
    - 带有src属性的script标签内js语句无效
    - 只要不存在async和defer属性，script脚本按顺序执行
```
<script src="example.js"></script>
```
标签位置
    - 放入head部分会影响页面的加载
    - 一般放在body标签的最后
    - 还有一个选择是在head部分，script标签加入defer属性，浏览器会依次按顺序执行延时脚本
    - async并不确保脚本的执行顺序，第二个脚本可能在第一个脚本之前执行
推荐使用
外部标签具有以下优点：
    - 可维护性 
    - 可缓存
    - 适应未来: HTML与XHTML引入外部js语法相同

#### 文档模式
    - IE5.5引入文档个模式概念，通过文档类型（doctype）进行切换
    - 最初包含混杂模式、标准模式，后期提出准标注模式
```
<!-- HTML5 -->
<!DOCTYPE html>
```
#### 其他
<noscript>元素
    - 早期浏览器面对当浏览器不支持JS时如何让页面评委退化
    - 在浏览器不支持脚本或者浏览器支持脚本但被禁用的情况下该标签内容会显示

#### 小结
    - 引入外部JS时，需要指定src属性，文件可以位于同一个服务器上的文件，也可以引入其他域的文件
    - 在不使用defer和async属性的前提下，只有解完前面script之后后面的script才会执行
    - 由于浏览器不完全支持defer，script位置应该放在body最后
    - defer属性可以让文档完全呈现之后再执行
    - async属性表示脚本不必等待其他脚本，也不必阻塞呈现
    - <noscript>在不支持脚本的浏览器中显示替代的内容